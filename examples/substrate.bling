
# substrate

filter mitchell 3 3 0.333333 0.333333
filter box

imageSize 1280 720
imageSize 640 360

renderer {
   sampler
   sampled {
      sampler { stratified 2 2 }
      integrator { path maxDepth 7 sampleDepth 3 }
   }
}

# renderer { sampler sampled { sampler { random 128 } integrator { debug reference } } }
# renderer { sppm photonCount 50000 maxDepth 10 radius 0.1 }

transform {
   lookAt {
      pos -5 12 -12
      look 0 2 1
      up 0 1 0
   }
}

camera {
   perspective
   fov 33
   lensRadius 0
   focalDistance 8.6
}

newTransform { }

#
# ground plane
#

material {
   matte
   kd {
      graphPaper 0.1
      map { uv 0 0 1 1 }
      tex1 { constant rgbR 0.8 0.8 0.8 }
      tex2 { constant rgbR 0.05 0.05 0.05 }
   }
   sigma { constant 0.005 }
}

prim {
   mesh
   vertexCount 4
   faceCount 1
   v  50.0 0.0 -50.0
   v -50.0 0.0 -50.0
   v -50.0 0.0  50.0
   v  50.0 0.0  50.0
   f 3 2 1 0
}

#
# light source
#

emission { rgbI 10 10 10 }

newTransform {
   rotateX -90
   translate 0 20 0
}

prim { shape { quad 4 4 } }

emission { none }

#light { infinite { rotateX -90 }
#   l {
#      sunSky
#      east 1 0 0
#      sunDir -1 0.5 1
#      turbidity 8
#   }
#}

#
# sphere 1
#

newTransform {
   translate -3 2 0
}

material { substrate
   kd { constant spd {
      400 0.040, 404 0.046, 408 0.048, 412 0.053, 416 0.049, 420 0.050,
      424 0.053, 428 0.055, 432 0.057, 436 0.056, 440 0.059, 444 0.057,
      448 0.061, 452 0.061, 456 0.060, 460 0.062, 464 0.062, 468 0.062,
      472 0.061, 476 0.062, 480 0.060, 484 0.059, 488 0.057, 492 0.058,
      496 0.058, 500 0.058, 504 0.056, 508 0.055, 512 0.056, 516 0.059,
      520 0.057, 524 0.055, 528 0.059, 532 0.059, 536 0.058, 540 0.059,
      544 0.061, 548 0.061, 552 0.063, 556 0.063, 560 0.067, 564 0.068,
      568 0.072, 572 0.080, 576 0.090, 580 0.099, 584 0.124, 588 0.154,
      592 0.192, 596 0.255, 600 0.287, 604 0.349, 608 0.402, 612 0.443,
      616 0.487, 620 0.513, 624 0.558, 628 0.584, 632 0.620, 636 0.606,
      640 0.609, 644 0.651, 648 0.612, 652 0.610, 656 0.650, 660 0.638,
      664 0.627, 668 0.620, 672 0.630, 676 0.628, 680 0.642, 684 0.639,
      688 0.657, 692 0.639, 696 0.635, 700 0.642
   }}
   
   ks { constant rgbR 0.8 0.8 0.8 }
   ka { constant rgbR 0.7 0.7 0.7 }
   urough { constant 0.005 }
   vrough { constant 0.0002 }
   depth { constant 0.1 }
}

prim { shape { sphere radius 2 } }

transform {
   translate 6 0 0
}

material { substrate
   kd { constant spd {
      400 0.040, 404 0.046, 408 0.048, 412 0.053, 416 0.049, 420 0.050,
      424 0.053, 428 0.055, 432 0.057, 436 0.056, 440 0.059, 444 0.057,
      448 0.061, 452 0.061, 456 0.060, 460 0.062, 464 0.062, 468 0.062,
      472 0.061, 476 0.062, 480 0.060, 484 0.059, 488 0.057, 492 0.058,
      496 0.058, 500 0.058, 504 0.056, 508 0.055, 512 0.056, 516 0.059,
      520 0.057, 524 0.055, 528 0.059, 532 0.059, 536 0.058, 540 0.059,
      544 0.061, 548 0.061, 552 0.063, 556 0.063, 560 0.067, 564 0.068,
      568 0.072, 572 0.080, 576 0.090, 580 0.099, 584 0.124, 588 0.154,
      592 0.192, 596 0.255, 600 0.287, 604 0.349, 608 0.402, 612 0.443,
      616 0.487, 620 0.513, 624 0.558, 628 0.584, 632 0.620, 636 0.606,
      640 0.609, 644 0.651, 648 0.612, 652 0.610, 656 0.650, 660 0.638,
      664 0.627, 668 0.620, 672 0.630, 676 0.628, 680 0.642, 684 0.639,
      688 0.657, 692 0.639, 696 0.635, 700 0.642
   }}
   ks { constant rgbR 0.8 0.8 0.8 }
   ka { constant rgbR 0.7 0.7 0.7 }
   urough { constant 0.0002 }
   vrough { constant 0.005 }
   depth { constant 0.2 }
}

prim { shape { sphere radius 2 } }

newTransform {
   translate 0 2.5 4
}

material {
   substrate
   kd { constant spd {
      400 0.092, 404 0.096, 408 0.098, 412 0.097, 416 0.098, 420 0.095,
      424 0.095, 428 0.097, 432 0.095, 436 0.094, 440 0.097, 444 0.098,
      448 0.096, 452 0.101, 456 0.103, 460 0.104, 464 0.107, 468 0.109,
      472 0.112, 476 0.115, 480 0.125, 484 0.140, 488 0.160, 492 0.187,
      496 0.229, 500 0.285, 504 0.343, 508 0.390, 512 0.435, 516 0.464,
      520 0.472, 524 0.476, 528 0.481, 532 0.462, 536 0.447, 540 0.441,
      544 0.426, 548 0.406, 552 0.373, 556 0.347, 560 0.337, 564 0.314,
      568 0.285, 572 0.277, 576 0.266, 580 0.250, 584 0.230, 588 0.207,
      592 0.186, 596 0.171, 600 0.160, 604 0.148, 608 0.141, 612 0.136,
      616 0.130, 620 0.126, 624 0.123, 628 0.121, 632 0.122, 636 0.119,
      640 0.114, 644 0.115, 648 0.117, 652 0.117, 656 0.118, 660 0.120,
      664 0.122, 668 0.128, 672 0.132, 676 0.139, 680 0.144, 684 0.146,
      688 0.150, 692 0.152, 696 0.157, 700 0.159
   }}
   ks { constant rgbR 0.5 0.5 0.5 }
   ka { constant rgbR 0.3 0.3 0.3 }
   
   urough { constant 0.005  }
   vrough { constant 0.005  }
      
   depth { scale 0.6 0.6 tex {
         fbm octaves 3 omega 0.5 map {
            identity { scale 1 1 1 }
         }
      } }
}

prim { shape { sphere radius 2.5 } }

